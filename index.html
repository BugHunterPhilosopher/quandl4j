<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Quandl4j by jimmoores</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Quandl4j</h1>
      <h2 class="project-tagline">A Quandl API wrapper for Java</h2>
      <a href="https://github.com/jimmoores/quandl4j" class="btn">View on GitHub</a>
      <a href="https://github.com/jimmoores/quandl4j/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jimmoores/quandl4j/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="quandl4j--a-quandl-library-for-java" class="anchor" href="#quandl4j--a-quandl-library-for-java" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quandl4J : A Quandl library for Java</h1>

<p>**NEWS: 1.3.0 released
SearchRequest now supports the v3 API databasecode argument and makes the query
parameter (previous of()) optional.  Docs and examples have been updated to 
reflect this contribution from Hamel Ajay Kothari (hkothari).<br>
Many thanks for that! More details can be found in the <a href="https://github.com/jimmoores/quandl4j/blob/master/RELEASE-NOTES.md">release notes</a>.</p>

<p><a href="http://quandl.com">Quandl</a> is a source of millions of free data sets covering financial, economic, sociological and country data via an open REST API.  <strong>Quandl4j</strong> is a Java 7+ client-side wrapper for this API provided under the commercially friendly <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache V2 license</a>.  It provides a type safe and fluent API in a modern style that takes care of constructing URLs and processing JSON and CSV responses but nonetheless allows access to all the functionality of the underlying REST API.</p>

<p>Quandl4J uses <a href="http://travis-ci.org/jimmoores/quandl4j">Travis CI</a> to perform continuous builds.  The current status is <a href="https://travis-ci.org/jimmoores/quandl4j"><img src="https://travis-ci.org/jimmoores/quandl4j.svg?branch=master" alt="Build Status"></a></p>

<h1>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of Contents</h1>

<ul>
<li><a href="#quick-start">Quick start</a></li>
<li><a href="#design-principles">Design Principles</a></li>
<li><a href="#release-notes">Release Notes</a></li>
<li><a href="#tutorial">Tutorial</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#roadmap">Roadmap</a></li>
<li><a href="#contributions">Contributions</a></li>
<li><a href="#community">Community</a></li>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#creator">Creator</a></li>
<li><a href="#copyright-and-license">Copyright and license</a></li>
<li><a href="#gradle">Gradle</a></li>
</ul>

<h3>
<a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick Start</h3>

<p>The minimum pre-requisites are:</p>

<ul>
<li>OpenJDK 7, Oracle JDK 7 &amp; 8 are tested.</li>
<li>Maven 3.</li>
</ul>

<p>Three options are available:</p>

<ul>
<li><a href="https://github.com/jimmoores/quandl4j/archive/rel/v1.3.0.zip">Download the latest release</a></li>
<li>Clone the repository: <code>git clone https://github.com/jimmoores/quandl4j.git</code>

<ul>
<li>Run <code>mvn install</code> to build the libray, test, javadoc and source jars and install to your local Maven repository.</li>
<li>Run <code>mvn javadoc:javadoc</code> to build the documentation.</li>
</ul>
</li>
<li>Add the following fragment to your Maven POM file</li>
</ul>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.jimmoores&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;quandl&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;1.3.0&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>

<p>Note to Scala/SBT users: the POM references one artifact which isn't in maven central.  I'm intending to remove it 
eventually but for now you'll need to add <code>maven.opengamma.com</code> as a resolver - see the respositories section in the
POM.</p>

<p>Gradle users should see the <a href="#gradle">notes on Gradle use</a> helpfully provided by Martin Andersson.</p>

<h3>
<a id="design-principles" class="anchor" href="#design-principles" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Design Principles</h3>

<p>The core design principles are:</p>

<ul>
<li>Allow full access to the functionality of the underlying API.</li>
<li>Allow efficient network requests by using the more compact CSV encoding where
possible.</li>
<li>Use modern Java design principles like immutable objects, builders and 
factories and JSR-310 style date/times (using the <a href="http://threeten.org">ThreeTen backport</a> so Java 7 is supported)</li>
<li>Thorough unit and integration test support, including a framework that can
be reused by user applications without hitting the Quandl backend.</li>
<li>Publish maven artifacts on <a href="http://search.maven.org/">Maven Central</a>.</li>
<li>Provide concrete examples.</li>
<li>Provide comprehensive documentation and JavaDocs.</li>
</ul>

<h2>
<a id="release-notes" class="anchor" href="#release-notes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Release Notes</h2>

<h3>
<a id="version-130" class="anchor" href="#version-130" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.3.0</h3>

<ul>
<li>SearchRequest now supports the v3 API databasecode argument and makes the query
parameter (previous <code>of()</code>) optional.  This means the <code>of()</code> static factory method
is now deprecated in favor of a no-arg constructor.</li>
</ul>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">SearchRequest</span><span class="pl-k">.</span><span class="pl-smi">Builder</span><span class="pl-k">.</span>of(<span class="pl-k">&lt;</span>query<span class="pl-k">&gt;</span>)<span class="pl-k">.</span>build();</pre></div>

<p>becomes</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">new</span> <span class="pl-smi">SearchRequest</span>.<span class="pl-smi">Builder</span>()<span class="pl-k">.</span>withQuery(<span class="pl-k">&lt;</span>query<span class="pl-k">&gt;</span>)<span class="pl-k">.</span>build();</pre></div>

<h3>
<a id="version-120" class="anchor" href="#version-120" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.2.0</h3>

<ul>
<li>Changed HTTPS URL because RESTEasy and Apache CXF can't handle redirect to <a href="https://www.quandl.com">https://www.quandl.com</a> which is the address in the TLS certificate. Disabled integration test from main build because test framework misbehaving.</li>
</ul>

<h3>
<a id="version-110" class="anchor" href="#version-110" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.1.0</h3>

<ul>
<li>Switch to HTTPS, regenerate test data.</li>
</ul>

<h3>
<a id="version-100" class="anchor" href="#version-100" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.0.0</h3>

<ul>
<li>Handle deprecation of all multi-request APIs.  This release emulates the old behaviour of the multiset APIs by issuing
multiple single requests and aggregating results into the same structure as returned before.  This should allow existing 
applications to adjust seamlessly, abeit probably at reduced performance.  Please note though, that these APIs are now
deprecated and you should plan for their eventual removal.</li>
<li>High loads on the Quandl servers have lead to an increase in the number of requests that return errors asking the client
to throttle requests apart from when user maximum request counts are exceeded.  The QuandlSession will now retry requests
that are likely to be transient (503 Service Unavailable and 429 Too Many Requests) according to a <code>RetryPolicy</code> that
can be set in the SessionOptions.  The default is to back off for 1, 5, 20 and then 60 seconds and then give up.  Custom 
policies can be put in place by subclassing <code>RetryPolicy</code>.  Some examples are available via factory methods on<br>
<code>RetryPolicy</code>.</li>
<li>Emulated multiset queries (both Tabular and Metadata) now return Quandl codes of the form PROVIDER/CODE rather than
PROVIDER.CODE.  This was only noticed after release.  If this causes big problems for you, please open a ticket and I will    provide the facility to revert to the old behaviour in a new release.</li>
<li>The new retry behaviour means that there are times that would previously have thrown a generic <code>QuandlRuntimeException</code>
will now return <code>QuandlFailedRequestException</code> (which is thrown after receiving multiple<br>
<code>QuandlTooManyRequestsException</code> or <code>QuandlServiceUnavailableException</code>).  Note that previously a bug prevented the 
correct throwing of <code>QuandlTooManyRequestsException</code>.</li>
<li>To revert as closely as possible to the old behaviour (turn off retries), use <code>RetryPolicy.createNoRetryPolicy()</code> and
set in the <code>SessionOptions</code>.</li>
<li>
<code>getMetaData(final MultiMetaDataRequest request)</code> does it's best to emulate the JSON response from Quandl, but may be
have fields like <code>Frequency</code> set to null rather than values that Quandl returned.</li>
<li>A missing dependency for Java 7 users has been added that allows the examples to run cleanly.</li>
<li>Test files were regenerated.</li>
</ul>

<h3>
<a id="version-090" class="anchor" href="#version-090" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 0.9.0</h3>

<ul>
<li>Skipped because it was used internally by the author in a private Maven repository for an intermediate version and never
curated for Maven Central.</li>
</ul>

<h3>
<a id="version-081" class="anchor" href="#version-081" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 0.8.1</h3>

<ul>
<li>Fixed some POM issues.</li>
</ul>

<h3>
<a id="version-080" class="anchor" href="#version-080" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 0.8.0</h3>

<ul>
<li>Initial public release.</li>
</ul>

<h2>
<a id="tutorial" class="anchor" href="#tutorial" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tutorial</h2>

<h3>
<a id="a-first-taste-of-the-api" class="anchor" href="#a-first-taste-of-the-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A First Taste of the API</h3>

<p>The following gets the complete data history (with Date, Open, High, Low, Volume, Ex-Dividend, Split Ratio, And Adjusted Open, High, Low Close and Volume columns) of AAPL (Apple Inc).  The symbol <code>WIKI/AAPL</code> is what is known as the <strong>Quandl code</strong> and is made up of a data source (in this case <code>WIKI</code>) and a data source specific code (in this case the exchange code for Apple Inc, which is <code>AAPL</code>).</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example1.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">TabularResult</span> tabularResult <span class="pl-k">=</span> session<span class="pl-k">.</span>getDataSet(
  <span class="pl-smi">DataSetRequest</span><span class="pl-k">.</span><span class="pl-smi">Builder</span><span class="pl-k">.</span>of(<span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>build());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(tabularResult<span class="pl-k">.</span>toPrettyPrintedString());</pre></div>

<p>which produces</p>

<pre><code>+------------+--------+----------+----------+----------+------------+-------------+-------------+-----------------+-----------------+-----------------+-----------------+-------------+
| Date       | Open   | High     | Low      | Close    | Volume     | Ex-Dividend | Split Ratio | Adj. Open       | Adj. High       | Adj. Low        | Adj. Close      | Adj. Volume |
+------------+--------+----------+----------+----------+------------+-------------+-------------+-----------------+-----------------+-----------------+-----------------+-------------+
| 2014-06-03 | 628.47 | 638.74   | 628.25   | 637.54   | 10419625.0 | 0.0         | 1.0         | 628.47          | 638.74          | 628.25          | 637.54          | 10419625.0  |
| 2014-06-02 | 634.0  | 634.83   | 622.5    | 628.65   | 13149746.0 | 0.0         | 1.0         | 634.0           | 634.83          | 622.5           | 628.65          | 13149746.0  |
| 2014-05-30 | 637.98 | 644.17   | 628.9    | 633.0    | 20073091.0 | 0.0         | 1.0         | 637.98          | 644.17          | 628.9           | 633.0           | 20073091.0  |
| 2014-05-29 | 628.0  | 636.87   | 627.77   | 635.38   | 13352669.0 | 0.0         | 1.0         | 628.0           | 636.87          | 627.77          | 635.38          | 13352669.0  |
... snip ...
| 1980-12-17 | 25.88  | 26.0     | 25.88    | 25.88    | 385900.0    | 0.0        | 1.0         | 3.0057815128016 | 3.0197186759213 | 3.0057815128016 | 3.0057815128016 | 3087200.0   |
| 1980-12-16 | 25.38  | 25.38    | 25.25    | 25.25    | 472000.0    | 0.0        | 1.0         | 2.9477099998031 | 2.9477099998031 | 2.9326114064235 | 2.9326114064235 | 3776000.0   |
| 1980-12-15 | 27.38  | 27.38    | 27.25    | 27.25    | 785200.0    | 0.0        | 1.0         | 3.1799960517971 | 3.1799960517971 | 3.1648974584175 | 3.1648974584175 | 6281600.0   |
| 1980-12-12 | 28.75  | 28.88    | 28.75    | 28.75    | 2093900.0   | 0.0        | 1.0         | 3.3391119974129 | 3.3542105907925 | 3.3391119974129 | 3.3391119974129 | 16751200.0  |
+------------+--------+----------+----------+----------+-------------+------------+-------------+-----------------+-----------------+-----------------+-----------------+-------------+
</code></pre>

<h3>
<a id="refining-the-query" class="anchor" href="#refining-the-query" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Refining the query</h3>

<p>It's also possible to specify many refining options on your query.  In this next example we
request AAPL again, but this time sampled Quarterly, returning only the close column (CLOSE_COLUMN here is actually the integer constant 4), and performing a normalization pre-process step on the server side before returning the results.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example2.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">TabularResult</span> tabularResult <span class="pl-k">=</span> session<span class="pl-k">.</span>getDataSet(
  <span class="pl-smi">DataSetRequest</span><span class="pl-k">.</span><span class="pl-smi">Builder</span>
    .of(<span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL<span class="pl-pds">"</span></span>)
    .withFrequency(<span class="pl-smi">Frequency</span><span class="pl-c1"><span class="pl-k">.</span>QUARTERLY</span>)
    .withColumn(<span class="pl-c1">CLOSE_COLUMN</span>)
    .withTransform(<span class="pl-smi">Transform</span><span class="pl-c1"><span class="pl-k">.</span>NORMALIZE</span>)
    .build());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(tabularResult<span class="pl-k">.</span>toPrettyPrintedString());</pre></div>

<p>which will return something like</p>

<pre><code>+------------+-----------------+
| Date       | Close           |
+------------+-----------------+
| 2014-06-30 | 1868.5228604924 |
| 2014-03-31 | 1573.0949589683 |
| 2013-12-31 | 1644.2555685815 |
| 2013-09-30 | 1397.2743259086 |
| 2013-06-30 | 1162.162954279  |
... snip ...
| 1982-03-31 | 49.47245017585  |
| 1981-12-31 | 64.830011723329 |
| 1981-09-30 | 44.695193434936 |
| 1981-06-30 | 76.20164126612  |
| 1981-03-31 | 71.805392731536 |
| 1980-12-31 | 100.0           |
+------------+-----------------+
</code></pre>

<p>note that the whole series is normalized against the first value.</p>

<h3>
<a id="retrieving-data-for-multiple-quandl-codes-at-the-same-time" class="anchor" href="#retrieving-data-for-multiple-quandl-codes-at-the-same-time" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Retrieving data for multiple Quandl codes at the same time</h3>

<p>To retrieve data for multiple codes, we need a different request structure.  In particular we need to say which Quandl codes we want data retrieved for, but also which columns are required for each.  This is done using the <code>QuandlCodeRequest</code>, which has two factory methods: <code>singleColumn(String quandlCode, int columnIndex)</code> and <code>allColumns(String quandlCode)</code>.  It's worth noting we're allowed to use the normal form of Quandl codes here, in the REST API, the forward slash gets replaced with a full-stop/period in this context:</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example3.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">TabularResult</span> tabularResultMulti <span class="pl-k">=</span> session<span class="pl-k">.</span>getDataSets(
    <span class="pl-smi">MultiDataSetRequest</span><span class="pl-k">.</span><span class="pl-smi">Builder</span>
      .of(
        <span class="pl-smi">QuandlCodeRequest</span><span class="pl-k">.</span>singleColumn(<span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL<span class="pl-pds">"</span></span>, <span class="pl-c1">CLOSE_COLUMN</span>), 
        <span class="pl-smi">QuandlCodeRequest</span><span class="pl-k">.</span>allColumns(<span class="pl-s"><span class="pl-pds">"</span>DOE/RWTC<span class="pl-pds">"</span></span>)
      )
      .withStartDate(<span class="pl-c1">RECENTISH_DATE</span>)
      .withFrequency(<span class="pl-smi">Frequency</span><span class="pl-c1"><span class="pl-k">.</span>MONTHLY</span>)
      .build());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(tabularResultMulti<span class="pl-k">.</span>toPrettyPrintedString()); </pre></div>

<p>which returns all results in a single <code>TabularResult</code></p>

<pre><code>+------------+-------------------+------------------+
| Date       | WIKI/AAPL - Close | DOE/RWTC - Value |
+------------+-------------------+------------------+
| 2014-06-30 | 637.54            |                  |
| 2014-05-31 | 633.0             | 103.37           |
| 2014-04-30 | 590.09            | 100.07           |
| 2014-03-31 | 536.74            | 101.57           |
| 2014-02-28 | 526.24            | 102.88           |
| 2014-01-31 | 500.6             | 97.55            |
| 2013-12-31 | 561.02            | 98.17            |
| 2013-11-30 | 556.07            | 92.55            |
| 2013-10-31 | 522.7             | 96.29            |
| 2013-09-30 | 476.75            | 102.36           |
| 2013-08-31 | 487.22            | 107.98           |
| 2013-07-31 | 452.53            | 105.1            |
| 2013-06-30 | 396.53            | 96.36            |
| 2013-05-31 | 449.73            | 91.93            |
| 2013-04-30 | 442.78            | 93.22            |
| 2013-03-31 | 442.66            | 97.24            |
| 2013-02-28 | 441.4             | 92.03            |
| 2013-01-31 | 455.49            | 97.65            |
+------------+-------------------+------------------+
</code></pre>

<p>Note that the column labels actually do have a <strong>SPACE-HYPHEN-SPACE</strong> between the Quandl code and the Column name.  A future version of the library should allow these columns to be separated out automatically.</p>

<h3>
<a id="structure-of-a-tabularresult" class="anchor" href="#structure-of-a-tabularresult" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Structure of a TabularResult</h3>

<p>The type <code>TabularResult</code> is made up of a <code>HeaderDefinition</code>, which is essentially a list of column names (plus the facility to map from name to column index), plus a list of <code>Row</code> objects, each of which is linked to their common <code>HeaderDefinition</code>.  This allows individual <code>Row</code> objects to address their data using the column name rather than just the index as is the underlying API.  <code>Row</code> also contains methods to parse and cast data into various types (String, LocalDate, Double).  Here is an example</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example3a.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">TabularResult</span> tabularResultMulti <span class="pl-k">=</span> session<span class="pl-k">.</span>getDataSets(
    <span class="pl-smi">MultiDataSetRequest</span><span class="pl-k">.</span><span class="pl-smi">Builder</span>
      .of(
        <span class="pl-smi">QuandlCodeRequest</span><span class="pl-k">.</span>singleColumn(<span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL<span class="pl-pds">"</span></span>, <span class="pl-c1">CLOSE_COLUMN</span>), 
        <span class="pl-smi">QuandlCodeRequest</span><span class="pl-k">.</span>allColumns(<span class="pl-s"><span class="pl-pds">"</span>DOE/RWTC<span class="pl-pds">"</span></span>)
      )
      .withStartDate(<span class="pl-c1">RECENTISH_DATE</span>)
      .withFrequency(<span class="pl-smi">Frequency</span><span class="pl-c1"><span class="pl-k">.</span>MONTHLY</span>)
      .build());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Header definition: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> tabularResultMulti<span class="pl-k">.</span>getHeaderDefinition());
<span class="pl-k">for</span> (<span class="pl-k">final</span> <span class="pl-smi">Row</span> row <span class="pl-k">:</span> tabularResultMulti) {
  <span class="pl-smi">LocalDate</span> date <span class="pl-k">=</span> row<span class="pl-k">.</span>getLocalDate(<span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>);
  <span class="pl-smi">Double</span> value <span class="pl-k">=</span> row<span class="pl-k">.</span>getDouble(<span class="pl-s"><span class="pl-pds">"</span>DOE/RWTC - Value<span class="pl-pds">"</span></span>);
  <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Value on date <span class="pl-pds">"</span></span> <span class="pl-k">+</span> date <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> was <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value);
} </pre></div>

<p>produces:</p>

<pre><code>Header definition: HeaderDefinition[Date,WIKI/AAPL - Close,DOE/RWTC - Value]
Value on date 2014-06-30 was null
Value on date 2014-05-31 was 103.37
Value on date 2014-04-30 was 100.07
Value on date 2014-03-31 was 101.57
Value on date 2014-02-28 was 102.88
Value on date 2014-01-31 was 97.55
Value on date 2013-12-31 was 98.17
Value on date 2013-11-30 was 92.55
Value on date 2013-10-31 was 96.29
Value on date 2013-09-30 was 102.36
Value on date 2013-08-31 was 107.98
Value on date 2013-07-31 was 105.1
Value on date 2013-06-30 was 96.36
Value on date 2013-05-31 was 91.93
Value on date 2013-04-30 was 93.22
Value on date 2013-03-31 was 97.24
Value on date 2013-02-28 was 92.03
Value on date 2013-01-31 was 97.65
'''

### Single meta data request
It's also possible to retrieve meta-data about the data sets available.
```java
// Example4.java
QuandlSession session = QuandlSession.create();
MetaDataResult metaData = session.getMetaData(MetaDataRequest.of("WIKI/AAPL"));
System.out.println(metaData.toPrettyPrintedString());
</code></pre>

<p>which prints out the raw JSON of the underlying message</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>AAPL<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>column_names<span class="pl-pds">"</span></span>: [
    <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Ex-Dividend<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Split Ratio<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Volume<span class="pl-pds">"</span></span>
  ],
  <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\r\n</span>&lt;p&gt;End of day open, high, low, close and volume, dividends and splits, and split/dividend adjusted open, high, low close and volume for Apple Inc. (AAPL). Ex-Dividend is non-zero on ex-dividend dates. Split Ratio is 1 on non-split dates. Adjusted prices are calculated per CRSP (&lt;a href=<span class="pl-cce">\"</span>http://www.crsp.com/products/documentation/crsp-calculations<span class="pl-cce">\"</span> rel=<span class="pl-cce">\"</span>nofollow<span class="pl-cce">\"</span> target=<span class="pl-cce">\"</span>blank<span class="pl-cce">\"</span>&gt;www.crsp.com/products/documentation/crsp-calculations&lt;<span class="pl-cce">\/</span>a&gt;)&lt;<span class="pl-cce">\/</span>p&gt;<span class="pl-cce">\r\n\r\n</span>&lt;p&gt;This data is in the public domain. You may copy, distribute, disseminate or include the data in other products for commercial and/or noncommercial purposes.&lt;<span class="pl-cce">\/</span>p&gt;<span class="pl-cce">\r\n\r\n</span>&lt;p&gt;This data is part of Quandl's Wiki initiative to get financial data permanently into the public domain. Quandl relies on users like you to flag errors and provide data where data is wrong or missing. Get involved: &lt;a href=<span class="pl-cce">\"</span>mailto:connect@quandl.com<span class="pl-cce">\"</span> rel=<span class="pl-cce">\"</span>nofollow<span class="pl-cce">\"</span> target=<span class="pl-cce">\"</span>blank<span class="pl-cce">\"</span>&gt;connect@quandl.com&lt;<span class="pl-cce">\/</span>a&gt;<span class="pl-cce">\r\n</span>&lt;<span class="pl-cce">\/</span>p&gt;<span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>display_url<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>http://www.quandl.com/WIKI/AAPL<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>errors<span class="pl-pds">"</span></span>: {},
  <span class="pl-s"><span class="pl-pds">"</span>frequency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>daily<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>from_date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>1980-12-12<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">9775409</span>,
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple Inc. (AAPL) Prices, Dividends, Splits and Trading Volume<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>private<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span>,
  <span class="pl-s"><span class="pl-pds">"</span>source_code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>WIKI<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>source_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Quandl Open Data<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>to_date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2014-06-03<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>,
  <span class="pl-s"><span class="pl-pds">"</span>updated_at<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2014-06-03T20:58:42Z<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>urlize_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple-Inc-AAPL-Prices-Dividends-Splits-and-Trading-Volume<span class="pl-pds">"</span></span>
}</pre></div>

<p>The raw JSON message is accessible, but the intention is for the user to mostly use the convenience methods available to extract named fields (with type casts) and process the <code>column_names</code> array into a <code>HeaderDefinition</code>.</p>

<h3>
<a id="bulk-meta-data" class="anchor" href="#bulk-meta-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bulk meta-data</h3>

<p>This uses an undocumented feature of Quandl, which allows you to make requests for JSON to the multisets endpoint.  To this we add the parameter to limit the start date to a date far in the future.  This means we only get the meta-data.  It's limited to only providing enough data to determine the available columns, but that's quite useful in itself.  There are two calls that can process this <code>MultiMetaDataRequest</code>.  The first is an overloaded version of <code>getMetaData</code>.  Again, it's worth noting we're allowed to use the normal form of Quandl codes here: in the REST API, the forward slash gets replaced with a full-stop/period in this context.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example5.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">MetaDataResult</span> metaData <span class="pl-k">=</span> session<span class="pl-k">.</span>getMetaData(<span class="pl-smi">MultiMetaDataRequest</span><span class="pl-k">.</span>of(<span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>DOE/RWTC<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT<span class="pl-pds">"</span></span>));
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(metaData<span class="pl-k">.</span>toPrettyPrintedString());</pre></div>

<p>which returns a large JSON document wrapped in a normal MetaDataResult object.</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>column_names<span class="pl-pds">"</span></span>: [
    <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Ex-Dividend<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Split Ratio<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Adj. Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Adj. High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Adj. Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Adj. Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL - Adj. Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>DOE/RWTC - Value<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Ex-Dividend<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Split Ratio<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Adj. Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Adj. High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Adj. Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Adj. Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT - Adj. Volume<span class="pl-pds">"</span></span>
  ],
  <span class="pl-s"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span>: [
    <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Ex-Dividend<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Split Ratio<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Value<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Volume<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Ex-Dividend<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Split Ratio<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Open<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. High<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Low<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Close<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>Adj. Volume<span class="pl-pds">"</span></span>
  ],
  <span class="pl-s"><span class="pl-pds">"</span>data<span class="pl-pds">"</span></span>: [],
  <span class="pl-s"><span class="pl-pds">"</span>errors<span class="pl-pds">"</span></span>: {},
  <span class="pl-s"><span class="pl-pds">"</span>frequency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>annual<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>from_date<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>,
  <span class="pl-s"><span class="pl-pds">"</span>to_date<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>
}</pre></div>

<p>A more generally useful method though, is to use the <code>getMultipleHeaderDefinition()</code> method</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example6.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-k">Map&lt;<span class="pl-smi">String</span>, <span class="pl-smi">HeaderDefinition</span>&gt;</span> headers <span class="pl-k">=</span> session<span class="pl-k">.</span>getMultipleHeaderDefinition(<span class="pl-smi">MultiMetaDataRequest</span><span class="pl-k">.</span>of(<span class="pl-s"><span class="pl-pds">"</span>WIKI/AAPL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>DOE/RWTC<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>WIKI/MSFT<span class="pl-pds">"</span></span>));
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-smi">PrettyPrinter</span><span class="pl-k">.</span>toPrettyPrintedString(headers));</pre></div>

<p>which returns the following map (<code>PrettyPrinter</code> contains a PrettyPrinter for these maps too):</p>

<pre><code>WIKI/AAPL =&gt; Date, Open, High, Low, Close, Volume, Ex-Dividend, Split Ratio, Adj. Open, Adj. High, Adj. Low, Adj. Close, Adj. Volume
DOE/RWTC  =&gt; Date, Value
WIKI/MSFT =&gt; Date, Open, High, Low, Close, Volume, Ex-Dividend, Split Ratio, Adj. Open, Adj. High, Adj. Low, Adj. Close, Adj. Volume
</code></pre>

<h3>
<a id="searching" class="anchor" href="#searching" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Searching</h3>

<p>We can also make generalised free-text search requests to Quandl.  For this we use the <code>search(SearchRequest)</code> method.  This allows us to specify the maximum number of results per page, and also the page we want.  Note that queries with high page numbers are slow, presumably due to the server-side database having to project the entire result set of several million documents just to get the single page you want.  Try not to add to server load by making these requests excessively.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example7.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">SearchResult</span> searchResult <span class="pl-k">=</span> session<span class="pl-k">.</span>search(<span class="pl-k">new</span> <span class="pl-smi">SearchRequest</span>.<span class="pl-smi">Builder</span>()<span class="pl-k">.</span>withQuery(<span class="pl-s"><span class="pl-pds">"</span>Apple<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>withMaxPerPage(<span class="pl-c1">2</span>)<span class="pl-k">.</span>build());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(searchResult<span class="pl-k">.</span>toPrettyPrintedString());</pre></div>

<p>results in</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>current_page<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,
  <span class="pl-s"><span class="pl-pds">"</span>docs<span class="pl-pds">"</span></span>: [
    {
      <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>NASDAQ_AAPL<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>column_names<span class="pl-pds">"</span></span>: [
        <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Open<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>High<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Low<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Close<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Volume<span class="pl-pds">"</span></span>
      ],
      <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple Inc. (Apple) designs, manufactures and markets mobile communication and media devices, personal computers, and portable digital music players, and a variety of related software, services, peripherals, networking solutions, and third-party digital content and applications. The Company's products and services include iPhone, iPad, Mac, iPod, Apple TV, a portfolio of consumer and professional software applications, the iOS and OS X operating systems, iCloud, and a variety of accessory, service and support offerings. The Company also delivers digital content and applications through the iTunes Store, App StoreSM, iBookstoreSM, and Mac App Store. The Company distributes its products worldwide through its retail stores, online stores, and direct sales force, as well as through third-party cellular network carriers, wholesalers, retailers, and value-added resellers. In February 2012, the Company acquired app-search engine Chomp.<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>display_url<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>http://www.google.com/finance/historical?q=NASDAQ%3AAAPL&amp;startdate=Jan+1%2C+1990&amp;output=csv<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>frequency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>daily<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>from_date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>1981-03-11<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">2318865</span>,
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple Inc. (AAPL)<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>private<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span>,
      <span class="pl-s"><span class="pl-pds">"</span>source_code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>GOOG<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>source_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Google Finance<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>to_date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2014-06-03<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>,
      <span class="pl-s"><span class="pl-pds">"</span>updated_at<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2014-06-04T02:27:30Z<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>urlize_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple-Inc-AAPL<span class="pl-pds">"</span></span>
    },
    {
      <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>AAPL_CASH<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>column_names<span class="pl-pds">"</span></span>: [
        <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Cash<span class="pl-pds">"</span></span>
      ],
      <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Cash and Marketable Securities reported in the balance sheet. Units: millions of dollars. Corporate Finance data is collected and calculated by Prof. Aswath<span class="pl-cce">\n</span>Damodaran, Professor of Finance at the Stern School of Business, New<span class="pl-cce">\n</span>York University.  The raw data is available here:<span class="pl-cce">\n</span>http://pages.stern.nyu.edu/~adamodar/New_Home_Page/data.html<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>display_url<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>http://pages.stern.nyu.edu/~adamodar/New_Home_Page/data.html<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>frequency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>annual<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>from_date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2000-09-27<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">3861439</span>,
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple Inc. ( AAPL ) - Cash<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>private<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span>,
      <span class="pl-s"><span class="pl-pds">"</span>source_code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>DMDRN<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>source_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Damodaran Financial Data<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>to_date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2013-09-27<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>,
      <span class="pl-s"><span class="pl-pds">"</span>updated_at<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2014-05-15T18:07:39Z<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>urlize_name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Apple-Inc-AAPL-Cash<span class="pl-pds">"</span></span>
    }
  ],
  <span class="pl-s"><span class="pl-pds">"</span>per_page<span class="pl-pds">"</span></span>: <span class="pl-c1">2</span>,
  <span class="pl-s"><span class="pl-pds">"</span>sources<span class="pl-pds">"</span></span>: [
    {
      <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>DMDRN<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>datasets_count<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
      <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>pages.stern.nyu.edu/~adamodar/<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">6946</span>,
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Damodaran Financial Data<span class="pl-pds">"</span></span>
    },
    {
      <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>GOOG<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>datasets_count<span class="pl-pds">"</span></span>: <span class="pl-c1">43144</span>,
      <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>This data is NOT sourced directly from Google.  It is however verified against their numbers.<span class="pl-cce">\r\n\r\n</span>www.quandl.com/WIKI is a better source.<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>www.google.com<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">393</span>,
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Google Finance<span class="pl-pds">"</span></span>
    }
  ],
  <span class="pl-s"><span class="pl-pds">"</span>total_count<span class="pl-pds">"</span></span>: <span class="pl-c1">4563</span>
}</pre></div>

<p>More usefully though, there are variously helper methods on SearchResult to allow you to get the document count, number of documents per page and to extract the individual matches as separate MetaDataResult objects.  For example</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Example8.java</span>
<span class="pl-smi">QuandlSession</span> session <span class="pl-k">=</span> <span class="pl-smi">QuandlSession</span><span class="pl-k">.</span>create();
<span class="pl-smi">SearchResult</span> searchResult <span class="pl-k">=</span> session<span class="pl-k">.</span>search(<span class="pl-k">new</span> <span class="pl-smi">SearchRequest</span>.<span class="pl-smi">Builder</span>()<span class="pl-k">.</span>withQuery(<span class="pl-s"><span class="pl-pds">"</span>Apple<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>withMaxPerPage(<span class="pl-c1">2</span>)<span class="pl-k">.</span>build());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Current page:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> searchResult<span class="pl-k">.</span>getCurrentPage());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Documents per page:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> searchResult<span class="pl-k">.</span>getDocumentsPerPage());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Total matching documents:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> searchResult<span class="pl-k">.</span>getTotalDocuments());
<span class="pl-k">for</span> (<span class="pl-smi">MetaDataResult</span> document <span class="pl-k">:</span> searchResult<span class="pl-k">.</span>getMetaDataResultList()) {
  <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Quandl code <span class="pl-pds">"</span></span> <span class="pl-k">+</span> document<span class="pl-k">.</span>getQuandlCode() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> matched<span class="pl-pds">"</span></span>);
  <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Available columns are: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> document<span class="pl-k">.</span>getHeaderDefinition());
}</pre></div>

<p>produces</p>

<pre><code>Current page:1
Documents per page:2
Total matching documents:4563
Quandl code GOOG/NASDAQ_AAPL matched
Available columns are: HeaderDefinition[Date,Open,High,Low,Close,Volume]
Quandl code DMDRN/AAPL_CASH matched
Available columns are: HeaderDefinition[Date,Cash]
</code></pre>

<h3>
<a id="quandl-api-key-and-session-options" class="anchor" href="#quandl-api-key-and-session-options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quandl API Key and Session Options</h3>

<p>To be allowed to use more than 50 requests per day it is necessary to <a href="https://www.quandl.com/users/sign_up">sign up for an account at quandl.com</a>.  This typically allows up to 50,000 requests per day.  When you've created your account, you can find your 'Auth Token' on your account details page.  There are several ways to pass this into Quandl4J:</p>

<ol>
<li>Set the Java sytem property <code>quandl.auth.token</code> to your Auth Token (<code>-Dquandl.auth.token=MYAUTHTOKEN</code> when launching the JVM using the <code>java</code> launcher) and then call <code>QuandlSession.create()</code>.</li>
<li>Pass the token as a <code>String</code> parameter to <code>QuandlSession.create(String)</code> when you create the session.</li>
<li>Create a <code>SessionOptions</code> object using it's builder and pass your Auth Token into the <code>withAuthToken(String)</code> method and then pass the resulting <code>SessionOptions</code> object into the <code>QuandlSession.create(SessionOptions)</code> method.</li>
</ol>

<p>Other properties of <code>SessionOptions</code> are the <code>RESTDataProvider</code> which is used to allow the use of a testing class that records requests in files, and <code>RetryPolicy</code> (<code>withRetryPolicy(RetryPolicy)</code> in the builder), which tells the session how to deal with failed requests.  Out of the box, there are three <code>RetryPolicy</code> types available:</p>

<ul>
<li>
<code>NoRetryPolicy</code>, created using <code>RetryPolicy.createNoRetryPolicy()</code>.  This doesn't retry and all and throws exceptions immediately.</li>
<li>
<code>FixedRetryPolicy</code>, created using <code>RetryPolocy.createFixedRetryPolicy(int, long)</code>.  This will retry a maximum of  number of times, with a delay of  between each one.</li>
<li>
<code>SequenceRetryPolicy</code>, createed using <code>RetryPolicy.createSequenceRetryPolocy(long[])</code>.  This will retry, waiting the number of milliseconds in each array element, until the array is exhausted, at which point the policy will give up.</li>
</ul>

<p>The default policy is <code>SequenceRetryPolicy(new long[] {1000, 5000, 20000, 60000})</code>, which will back off first by 1 second, then 5, then 20 and finally a full minute.  Custom policies can be created by subclassing <code>RetryPolicy</code> yourself.</p>

<h3>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h3>

<p>An addition to the tutorial, there is extra documentation at the package and class level within the <a href="http://jimmoores.github.io/quandl4j/apidocs">JavaDocs, which are hosted in GitHub Pages</a>.</p>

<h3>
<a id="roadmap" class="anchor" href="#roadmap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Roadmap</h3>

<p>Some future plans for incorporation include:</p>

<ul>
<li>Caching layer to speed up queries and minimize quandl traffic.</li>
<li>Ability to subselect columns/date ranges out from <code>TabularResult</code>.</li>
<li>Example Swing UI.</li>
<li>Locally stored data with ability to update (i.e. persistent cache).</li>
<li>Ability to specify column names in requests that will use cached metadata where possible or fall back to 
performing a metadata request prior to a data request.</li>
</ul>

<h3>
<a id="contributions" class="anchor" href="#contributions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributions</h3>

<p>Contributions are welcome!  Please read through the <a href="http://github.com/jimmoores/quandl4j/blob/master/CONTRIBUTING.md">contributing guidelines</a>.  This gives guidelines on opening issues, coding standards and testing requirements.</p>

<h3>
<a id="community" class="anchor" href="#community" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Community</h3>

<p>Follow development here via</p>

<ul>
<li>Twitter</li>
<li>Email</li>
</ul>

<h3>
<a id="versioning" class="anchor" href="#versioning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Versioning</h3>

<p>Releases will be numbered with the format <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch-level&gt;</code>.  When to bump a version number will be dictated by:</p>

<ul>
<li>Breaking backwards API compatibility will mean a bump in the major version number.</li>
<li>New features that retain backwards compatibility will require a minor version number bump.</li>
<li>Pure bug fixes will bump the patch-level.</li>
</ul>

<h3>
<a id="creator" class="anchor" href="#creator" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creator</h3>

<p><strong>Jim Moores</strong></p>

<ul>
<li><a href="http://twitter.com/jim_moores">http://twitter.com/jim_moores</a></li>
<li><a href="http://github.com/jimmoores">http://github.com/jimmoores</a></li>
<li><a href="https://www.linkedin.com/pub/jim-moores/0/442/841">https://www.linkedin.com/pub/jim-moores/0/442/841</a></li>
</ul>

<h3>
<a id="copyright-and-license" class="anchor" href="#copyright-and-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Copyright and license</h3>

<p>Code and documentation Copyright (C) 2014 Jim Moores.  Code and documentation released under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a></p>

<h3>
<a id="gradle" class="anchor" href="#gradle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Gradle</h3>

<p>Because Quandl4J uses an artifact not in Maven central you'll need some extra information:</p>

<pre><code>repositories {
    maven {
        // Quandl4j has a dependency not in Maven: 'com.opengamma.external.json:json:1.0.0.v20101106'
        // Source of this URL: https://github.com/jimmoores/quandl4j/blob/master/pom.xml
        url "http://maven.opengamma.com/nexus/content/groups/public"
    }
}
</code></pre>

<p>For completeness, here's all the magic text we need in our <code>build.gradle</code> file:</p>

<pre><code>repositories {
   // Or use mavenCentral(). I prefer new and cool shit + HTTPS, hence jcenter():
    jcenter()
}

repositories {
    maven {
        // Quandl4j has a dependency not in Maven: 'com.opengamma.external.json:json:1.0.0.v20101106'
        // Source of this URL: https://github.com/jimmoores/quandl4j/blob/master/pom.xml
        url "http://maven.opengamma.com/nexus/content/groups/public"
    }
}

dependencies {
    compile 'com.jimmoores:quandl:1.3.0'
}
</code></pre>

<p>Thanks to Martin Andersson for this contribution.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jimmoores/quandl4j">Quandl4j</a> is maintained by <a href="https://github.com/jimmoores">jimmoores</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-51676168-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
